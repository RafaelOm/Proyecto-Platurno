<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
	>

<h:head>
	<title>Platurno</title>
	<style type="text/css">
    .ui-panel, div.ui-state-hover {
        margin: 10px;
        width: 200px;
    }
    .botonadd{
    	background-color:red;
    }

    .ui-dashboard-column {
        width: 220px;
    }
        .rowcolor {
        background-color: #C9EDED !important; 
    }
     .cheap {
        background-color: #54a90a !important;
        background-image: none !important;
        color: #ffffff !important;
    }

</style>
</h:head>

<h:body>


<div class="card">
    <h:form>
        <p:growl id="messages" showDetail="true"/>

        <p:toolbar>
            <p:toolbarGroup>
              	<h2><h:outputText value ="#{infoSesion.nombrecompleto()}"/></h2>
            </p:toolbarGroup>



            <p:toolbarGroup name="right">
                <p:menuButton value="Options">
                    <p:menuitem value="Save" action="#{toolbarView.save}" update="messages" icon="pi pi-save"/>
                    <p:menuitem value="Update" action="#{toolbarView.update}" update="messages" icon="pi pi-refresh"/>
                    <p:menuitem value="Delete" action="#{toolbarView.delete}" ajax="false" icon="pi pi-times"/>
                    <p:menuitem value="Homepage" url="http://www.primefaces.org" icon="pi pi-home"/>
                </p:menuButton>
                        <p:divider layout="vertical"/>
                        
               	<p:commandButton value="Logout" icon="pi pi-fw pi-sign-out" styleClass="ui-button-info" action="#{infoSesion.invalidarSesion()}"/>
            		
            </p:toolbarGroup>

        </p:toolbar>
    </h:form>
</div>

<p:dataTable value="#{asignaturaBean.getSeleccionadas()}" var="dato" 
		rowStyleClass="#{asignaturaBean.selecionada(dato) eq true ? 'cheap' : null}" >
 	  <f:facet name="header">
           Asignaturas Selecionadas:
        </f:facet>
 
      <p:column>
         <f:facet name="header">
            <h:outputText value="Id"></h:outputText>
         </f:facet>
         <h:outputText value="#{dato.referencia}"></h:outputText>
      </p:column>
      <p:column>
         <f:facet name="header">
            <h:outputText value="Asignatura"></h:outputText>
         </f:facet>
         <h:outputText value="#{dato.nombre}"></h:outputText>
      </p:column>
       
       <p:column>
         <f:facet name="header">
            <h:outputText value="Turno"></h:outputText>
         </f:facet>
         <h:outputText value="#{dato.ofertada}"></h:outputText>
      </p:column>
    
      <p:column>
         <f:facet name="header">
            <h:outputText value="Grupo"></h:outputText>
         </f:facet>
         <h:outputText value="#{dato.codigo}"></h:outputText>
      </p:column>
            <p:column>
              <h:form>
                 <p:commandButton action="#{asignaturaBean.devuelve(dato)}"
               styleClass="ui-button-raised ui-button-danger" value="Eliminar">
                <f:actionListener binding="#{infoSesion.reload()}" />
               </p:commandButton>
         </h:form>
      </p:column>

</p:dataTable>

 <p:dataTable value="#{asignaturaBean.getRelleno()}" var="dato" >
 	  <f:facet name="header">
           Asignaturas Disponibles:
        </f:facet>
 
           <p:column>
         <f:facet name="header">
            <h:outputText value="Id"></h:outputText>
         </f:facet>
         <h:outputText value="#{dato.referencia}"></h:outputText>
      </p:column>
      <p:column>
         <f:facet name="header">
            <h:outputText value="Asignatura"></h:outputText>
         </f:facet>
         <h:outputText value="#{dato.nombre}"></h:outputText>
      </p:column>
       
       <p:column>
         <f:facet name="header">
            <h:outputText value="Turno"></h:outputText>
         </f:facet>
         <h:outputText value="#{dato.ofertada}"></h:outputText>
      </p:column>
    
      <p:column>
         <f:facet name="header">
            <h:outputText value="Grupo"></h:outputText>
         </f:facet>
         <h:outputText value="#{dato.codigo}"></h:outputText>
      </p:column>
    
      
       <p:column>
              <h:form>
                 <p:commandButton action="#{asignaturaBean.removeValor(dato)}"
                value="AÃ±adir">
                <f:actionListener binding="#{infoSesion.reload()}" />
                </p:commandButton>
         </h:form>
      </p:column>
      
   </p:dataTable>


</h:body>

</html>
